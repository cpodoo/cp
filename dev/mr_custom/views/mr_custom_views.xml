<odoo>
    <record id="view_form_mr_custom" model="ir.ui.view">
        <field name="name">mr.custom.form</field>
        <field name="model">mr.custom</field>
        <field name="arch" type="xml">
            <form string="Material Requisition">
                <header>
                    <button name="action_submit" type="object" string="Submit"
                            class="btn-primary"
                            x-invisible="status != 'draft'"/>

                    <button name="action_approve" type="object" string="Approve"
                            class="btn-success"
                            x-invisible="status != 'waiting_approval'"/>

                    <button name="action_reject" type="object" string="Reject"
                            class="btn-danger"
                            x-invisible="status != 'waiting_approval'"/>

                    <button name="action_done" type="object" string="Mark as Done"
                            class="btn-secondary"
                            x-invisible="status != 'approved'"/>

                    <button name="action_delivered" type="object" string="Mark as Delivered"
                            class="btn-secondary"
                            x-invisible="status != 'done'"/>

                    <field name="status" widget="statusbar"
                           statusbar_visible="draft,waiting_approval,approved,rejected,done,delivered"/>
                </header>

                <sheet>
                    <group>
                        <field name="name" readonly="1"/>
                    </group>
                    <group>
                        <group string="Request Raised By">
                            <field name="request_raised_by_id"/>
                            <field name="department"/>
                            <field name="job_position"/>
                            <field name="reporting_manager_id"/>
                            <field name="purpose"/>
                            <field name="destination_location_id"/>
                        </group>
                        <group string="Request Raised For">
                            <field name="request_raised_for_id"/>
                            <field name="department" readonly="1"/>
                            <field name="job_position" readonly="1"/>
                            <field name="reporting_manager_id" readonly="1"/>
                            <field name="indent_date"/>
                            <field name="required_date"/>
                            <field name="requirement"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Request Product">
                            <field name="product_line_ids" nolabel="1">
                                <list editable="bottom" string="Requested Products">
                                    <field name="product_id"/>
                                    <field name="product_qty"/>
                                    <field name="product_uom_id"/>
                                    <field name="on_hand_qty" readonly="1"/>
                                    <field name="short_close"/>
                                </list>
                            </field>
                        </page>
                        <page string="Approved Products">
                            <!--  Future fields go here  -->
                        </page>
                        <page string="Approver(s)">
                            <!--  Future fields go here  -->
                        </page>
                        <page string="Others">
                            <!--  Future fields go here  -->
                        </page>
                    </notebook>
                    <group string="Additional Information">
                        <field name="notes"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>
    <record id="view_tree_mr_custom" model="ir.ui.view">
        <field name="name">mr.custom.tree</field>
        <field name="model">mr.custom</field>
        <field name="arch" type="xml">
            <list string="Material Requisitions">
                <field name="name"/>
                <field name="request_raised_by_id"/>
                <field name="request_raised_for_id"/>
                <field name="required_date"/>
                <field name="ribbon_state"/>
                <field name="status" widget="badge"/>
            </list>
        </field>
    </record>
    <record id="action_mr_custom" model="ir.actions.act_window">
        <field name="name">Material Requisition</field>
        <field name="res_model">mr.custom</field>
        <field name="view_mode">list,form</field>
    </record>
    <menuitem id="menu_mr_custom_root" name="Material Requisition"/>
    <menuitem id="menu_mr_custom" name="Requisitions" parent="menu_mr_custom_root"/>
    <menuitem id="menu_mr_custom_action" name="Material Requests" parent="menu_mr_custom" action="action_mr_custom"/>
</odoo>